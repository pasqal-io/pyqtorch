[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "pyqtorch"
description = "PyTorch-based quantum circuit library"
authors = [
    { name = "Slimane Thabet", email = "slimane.thabet@pasqal.com" },
    { name = "Aleksander Wennersteen", email = "aleksander.wennersteen@pasqal.com" },
    { name = "Mario Dagrada", email = "mario.dagrada@pasqal.com" },
    { name = "Dominik Seitz", email = "dominik.seitz@pasqal.com" },
]
requires-python = ">=3.8.1,<3.11"
license = {text = "Proprietary"}
version = "0.1.7dev"
classifiers=[
    "License :: Other/Proprietary License",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: Implementation :: CPython",
    "Programming Language :: Python :: Implementation :: PyPy",
]
dependencies = [
    "openfermion>=1.5",
    "torch>=1.12"
]

[project.optional-dependencies]
dev = ["black", "pytest", "pytest-cov", "flake8", "mypy", "pre-commit"]
converters = ["qiskit"]

[tool.hatch.envs.tests]
features = [
  "dev",
  "converters",
]

[tool.pytest.ini_options]
testpaths = ["tests"]
addopts = "-vvv --cov pyqtorch tests"

[tool.flake8]
max-complexity = 18
max-line-length = 100
exclude = """
    .git,
    .venv,
"""
extend-ignore = """
    E266,
    E741,
    E742,
    E203
"""
per-file-ignores = """i
    __init__.py: F401
"""
ban-relative-imports = true

[tool.black]
line-length = 100
include = '\.pyi?$'
exclude = '''
/(
    \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | _build
  | buck-out
  | build
  | dist
)/
'''

[tool.isort]
line_length = 100
combine_as_imports = true
balanced_wrapping = true
lines_after_imports = 2
include_trailing_comma = true
multi_line_output = 5

[tool.mypy]
python_version = "3.10"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
no_implicit_optional = false
ignore_missing_imports = true
